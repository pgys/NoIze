
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Mathematics Related Functions &#8212; \\NoIze// 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="mathematics-related-functions">
<h1>Mathematics Related Functions<a class="headerlink" href="#mathematics-related-functions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-noize.mathfun.dsp">
<span id="noize-mathfun-dsp"></span><h2>noize.mathfun.dsp<a class="headerlink" href="#module-noize.mathfun.dsp" title="Permalink to this headline">¶</a></h2>
<p>Script with functions useful in filtering / digital signal processing</p>
<dl class="function">
<dt id="noize.mathfun.dsp.apply_gain_fft">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">apply_gain_fft</code><span class="sig-paren">(</span><em class="sig-param">fft_vals</em>, <em class="sig-param">gain</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#apply_gain_fft"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.apply_gain_fft" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduces noise by applying gain values to the stft / fft array of the
target signal</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fft_vals</strong> (<em>ndarray</em><em>(</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.7)"><em>complex</em></a><em>)</em>) – Matrix containing complex values (i.e. stft values) of target signal</p></li>
<li><p><strong>gain</strong> (<em>ndarray</em><em>(</em><em>real</em><em>)</em>) – Matrix containing calculated attenuation values to apply to ‘fft_vals’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>enhanced_fft</strong> – Matrix with attenuated noise in target (stft) values</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray(<a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.7)">complex</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.dsp.apply_window">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">apply_window</code><span class="sig-paren">(</span><em class="sig-param">samples</em>, <em class="sig-param">window</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#apply_window"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.apply_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies predefined window to a section of samples</p>
<p>The length of the samples must be the same length as the window.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>samples</strong> (<em>ndarray</em>) – series of samples with the length of input window</p></li>
<li><p><strong>window</strong> (<em>ndarray</em>) – window to be applied to the signal</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>samples_win</strong> – series with tapered sides according to the window provided</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_signal</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span> <span class="mf">0.</span>        <span class="p">,</span>  <span class="mf">0.36371897</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.302721</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="o">-</span><span class="mf">0.1117662</span> <span class="p">,</span>  <span class="mf">0.3957433</span> <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">window_hamming</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.08</span><span class="p">,</span> <span class="mf">0.54</span><span class="p">,</span> <span class="mf">1.</span>  <span class="p">,</span> <span class="mf">0.54</span><span class="p">,</span> <span class="mf">0.08</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">apply_window</span><span class="p">(</span><span class="n">input_signal</span><span class="p">,</span> <span class="n">window_hamming</span><span class="p">)</span>
<span class="go">array([ 0.        ,  0.19640824, -0.302721  , -0.06035375,  0.03165946])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">window_hann</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.</span> <span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.</span> <span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.</span> <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">apply_window</span><span class="p">(</span><span class="n">input_signal</span><span class="p">,</span> <span class="n">window_hann</span><span class="p">)</span>
<span class="go">array([ 0.        ,  0.18185948, -0.302721  , -0.0558831 ,  0.        ])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.dsp.calc_average_power">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">calc_average_power</code><span class="sig-paren">(</span><em class="sig-param">matrix</em>, <em class="sig-param">num_iters</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#calc_average_power"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.calc_average_power" title="Permalink to this definition">¶</a></dt>
<dd><p>Divides matrix values by the number of times power values were added.</p>
<p>This function assumes the power values of n-number of series were
calculated and added. It divides the values in the input matrix by n,
i.e. ‘num_iters’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matrix</strong> (<em>ndarray</em>) – a collection of floats or ints representing the sum of power
values across several series sets</p></li>
<li><p><strong>num_iters</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – an integer denoting the number of times power values were added to
the input matrix</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>matrix</strong> – the averaged input matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ave_matrix</span> <span class="o">=</span> <span class="n">calc_average_power</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ave_matrix</span>
<span class="go">array([[2.        , 2.        , 2.        ],</span>
<span class="go">       [1.        , 1.        , 1.        ],</span>
<span class="go">       [0.33333333, 0.33333333, 0.33333333]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.dsp.calc_fft">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">calc_fft</code><span class="sig-paren">(</span><em class="sig-param">signal_section</em>, <em class="sig-param">norm=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#calc_fft"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.calc_fft" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the fast Fourier transform of a 1D time series</p>
<p>The length of the signal_section determines the number of frequency
bins analyzed. Therefore, if there are higher frequencies in the
signal, the length of the <cite>signal_section</cite> should be long enough to
accommodate those frequencies.</p>
<p>The frequency bins with energy levels at around zero denote frequencies
not prevelant in the signal;the frequency bins with prevalent energy
levels relate to frequencies as well as their amplitudes that are in
the signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal_section</strong> (<em>ndarray</em>) – the series that the fft will be applied to</p></li>
<li><p><strong>norm</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – whether or not normalization should be applied (default False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fft_vals</strong> – the series transformed into the frequency domain with the same
shape as the input series</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray (<a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.7)">complex</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.dsp.calc_frame_length">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">calc_frame_length</code><span class="sig-paren">(</span><em class="sig-param">dur_frame_millisec</em>, <em class="sig-param">sampling_rate</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#calc_frame_length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.calc_frame_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the number of samples necessary for each frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dur_frame_millisec</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – time in milliseconds each frame should be</p></li>
<li><p><strong>sampling_rate</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – sampling rate of the samples to be framed</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>frame_length</strong> – the number of samples necessary to fill a frame</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">calc_frame_length</span><span class="p">(</span><span class="n">dur_frame_millisec</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">sampling_rate</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="go">20</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc_frame_length</span><span class="p">(</span><span class="n">dur_frame_millisec</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">sampling_rate</span><span class="o">=</span><span class="mi">48000</span><span class="p">)</span>
<span class="go">960</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc_frame_length</span><span class="p">(</span><span class="n">dur_frame_millisec</span><span class="o">=</span><span class="mf">25.5</span><span class="p">,</span> <span class="n">sampling_rate</span><span class="o">=</span><span class="mi">22500</span><span class="p">)</span>
<span class="go">573</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.dsp.calc_gain">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">calc_gain</code><span class="sig-paren">(</span><em class="sig-param">prior_snr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#calc_gain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.calc_gain" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the gain (i.e. attenuation) values to reduce noise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>prior_snr</strong> (<em>ndarray</em>) – The prior signal-to-noise ratio estimation</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>gain</strong> – An array of attenuation values to be applied to the signal (stft) array
at the current frame.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">References</p>
<p>C Loizou, P. (2013). Speech Enhancement: Theory and Practice.</p>
<p>Scalart, P. and Filho, J. (1996). Speech enhancement based on a
priori signal to noise estimation. Proc. IEEE Int. Conf. Acoust.,
Speech, Signal Processing, 629-632.</p>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.dsp.calc_ifft">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">calc_ifft</code><span class="sig-paren">(</span><em class="sig-param">signal_section</em>, <em class="sig-param">norm=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#calc_ifft"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.calc_ifft" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the inverse fft of a series of fft values</p>
<p>The real values of the ifft can be used to be saved as an audiofile</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal_section</strong> (<em>ndarray</em>) – The frame of fft values to apply the inverse fft to</p></li>
<li><p><strong>norm</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Whether or not the ifft should apply ‘ortho’ normalization
(default False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ifft_vals</strong> – The inverse Fourier transform of filtered audio data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray(<a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.7)">complex</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.dsp.calc_linear_impulse">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">calc_linear_impulse</code><span class="sig-paren">(</span><em class="sig-param">noise_frame_len</em>, <em class="sig-param">num_freq_bins</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#calc_linear_impulse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.calc_linear_impulse" title="Permalink to this definition">¶</a></dt>
<dd><p>Calc. the post filter coefficients to be applied to gain values.</p>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.dsp.calc_noise_frame_len">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">calc_noise_frame_len</code><span class="sig-paren">(</span><em class="sig-param">SNR_decision</em>, <em class="sig-param">threshold</em>, <em class="sig-param">scale</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#calc_noise_frame_len"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.calc_noise_frame_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Calc. window length for calculating moving average.</p>
<p>Note: lower SNRs require larger window.</p>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.dsp.calc_num_overlap_samples">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">calc_num_overlap_samples</code><span class="sig-paren">(</span><em class="sig-param">samples_per_frame</em>, <em class="sig-param">percent_overlap</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#calc_num_overlap_samples"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.calc_num_overlap_samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the number of samples that constitute the overlap of frames</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>samples_per_frame</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the number of samples in each window / frame</p></li>
<li><p><strong>percent_overlap</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – either an integer between 0 and 100 or a decimal between 0.0 and 1.0
indicating the amount of overlap of windows / frames</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>num_overlap_samples</strong> – the number of samples in the overlap</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">calc_num_overlap_samples</span><span class="p">(</span><span class="n">samples_per_frame</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">percent_overlap</span><span class="o">=</span><span class="mf">0.10</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc_num_overlap_samples</span><span class="p">(</span><span class="n">samples_per_frame</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">percent_overlap</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc_num_overlap_samples</span><span class="p">(</span><span class="n">samples_per_frame</span><span class="o">=</span><span class="mi">960</span><span class="p">,</span><span class="n">percent_overlap</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="go">480</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc_num_overlap_samples</span><span class="p">(</span><span class="n">samples_per_frame</span><span class="o">=</span><span class="mi">960</span><span class="p">,</span><span class="n">percent_overlap</span><span class="o">=</span><span class="mi">75</span><span class="p">)</span>
<span class="go">720</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.dsp.calc_num_subframes">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">calc_num_subframes</code><span class="sig-paren">(</span><em class="sig-param">tot_samples</em>, <em class="sig-param">frame_length</em>, <em class="sig-param">overlap_samples</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#calc_num_subframes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.calc_num_subframes" title="Permalink to this definition">¶</a></dt>
<dd><p>Assigns total frames needed to process entire noise or target series</p>
<p>This function calculates the number of full frames that can be
created given the total number of samples, the number of samples in
each frame, and the number of overlapping samples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tot_samples</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – total number of samples in the entire series</p></li>
<li><p><strong>frame_length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – total number of samples in each frame / processing window</p></li>
<li><p><strong>overlap_samples</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – number of samples in overlap between frames</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)">None</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">calc_num_subframes</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc_num_subframes</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.dsp.calc_posteri_prime">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">calc_posteri_prime</code><span class="sig-paren">(</span><em class="sig-param">posteri_snr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#calc_posteri_prime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.calc_posteri_prime" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the posteri prime</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>posteri_snr</strong> (<em>ndarray</em>) – The signal-to-noise ratio of the noisey signal, frame by frame.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>posteri_prime</strong> – The primed posteri_snr, calculated according to the reference paper.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">References</p>
<p>Scalart, P. and Filho, J. (1996). Speech enhancement based on a priori
signal to noise estimation. Proc. IEEE Int. Conf. Acoust., Speech, Signal
Processing, 629-632.</p>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.dsp.calc_posteri_snr">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">calc_posteri_snr</code><span class="sig-paren">(</span><em class="sig-param">target_power_spec</em>, <em class="sig-param">noise_power_spec</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#calc_posteri_snr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.calc_posteri_snr" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates and updates signal to noise ratio of current frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_power_spec</strong> (<em>ndarray</em>) – matrix of shape with power values of target
signal</p></li>
<li><p><strong>noise_power_spec</strong> (<em>ndarray</em>) – matrix of shape with power values of noise
signal</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>posteri_snr</strong> – matrix containing the signal to noise ratio</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sig_power</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">noise_power</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc_posteri_snr</span><span class="p">(</span><span class="n">sig_power</span><span class="p">,</span> <span class="n">noise_power</span><span class="p">)</span>
<span class="go">array([3., 3., 3., 3.])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.dsp.calc_power">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">calc_power</code><span class="sig-paren">(</span><em class="sig-param">fft_vals</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#calc_power"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.calc_power" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the power of fft values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fft_vals</strong> (<em>ndarray</em><em> (</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.7)"><em>complex</em></a><em> or </em><em>floats</em><em>)</em>) – the fft values of a windowed section of a series</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>power_spec</strong> – the squared absolute value of the input fft values</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="n">j</span><span class="p">,</span><span class="mi">2</span><span class="n">j</span><span class="p">,</span><span class="mi">2</span><span class="n">j</span><span class="p">],[</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">]],</span>
<span class="gp">... </span>                    <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">complex_</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc_power</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
<span class="go">array([[0.33333333, 0.33333333, 0.33333333],</span>
<span class="go">       [1.33333333, 1.33333333, 1.33333333],</span>
<span class="go">       [3.        , 3.        , 3.        ]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.dsp.calc_power_ratio">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">calc_power_ratio</code><span class="sig-paren">(</span><em class="sig-param">original_powerspec</em>, <em class="sig-param">noisereduced_powerspec</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#calc_power_ratio"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.calc_power_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Calc. the ratio of original vs noise reduced power spectrum.</p>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.dsp.calc_prior_snr">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">calc_prior_snr</code><span class="sig-paren">(</span><em class="sig-param">snr</em>, <em class="sig-param">snr_prime</em>, <em class="sig-param">smooth_factor=0.98</em>, <em class="sig-param">first_iter=None</em>, <em class="sig-param">gain=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#calc_prior_snr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.calc_prior_snr" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimates the signal-to-noise ratio of the previous frame</p>
<p>Depending on the <cite>first_iter</cite> argument, the prior snr is calculated
according to different algorithms. If <cite>first_iter</cite> is None, prior snr is
calculated according to Scalart and Filho (1996); if <cite>first_iter</cite>
is True or False, snr prior is calculated according to Loizou (2013).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>snr</strong> (<em>ndarray</em>) – The sound-to-noise ratio of target vs noise power/energy levels.</p></li>
<li><p><strong>snr_prime</strong> (<em>ndarray</em>) – The prime of the snr (see Scalart &amp; Filho (1996))</p></li>
<li><p><strong>smooth_factor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – The value applied to smooth the signal. (default 0.98)</p></li>
<li><p><strong>first_iter</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a><em>, </em><em>True</em><em>, </em><em>False</em>) – If None, snr prior values are estimated the same, no matter if it is
the first iteration or not (Scalart &amp; Filho (1996))
If True, snr prior values are estimated without gain (Loizou 2013)
If False, snr prior values are enstimed with gain (Loizou 2013)
(default None)</p></li>
<li><p><strong>gain</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a><em>, </em><em>ndarray</em>) – If None, gain will not be used. If gain, it is a previously calculated
value from the previous frame. (default None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>prior_snr</strong> – Estimation of signal-to-noise ratio of the previous frame of target signal.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">References</p>
<p>C Loizou, P. (2013). Speech Enhancement: Theory and Practice.</p>
<p>Scalart, P. and Filho, J. (1996). Speech enhancement based on a
priori signal to noise estimation. Proc. IEEE Int. Conf. Acoust.,
Speech, Signal Processing, 629-632.</p>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.dsp.collect_features">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">collect_features</code><span class="sig-paren">(</span><em class="sig-param">samples</em>, <em class="sig-param">feature_type='mfcc'</em>, <em class="sig-param">sr=48000</em>, <em class="sig-param">window_size_ms=20</em>, <em class="sig-param">window_shift_ms=10</em>, <em class="sig-param">num_filters=40</em>, <em class="sig-param">num_mfcc=40</em>, <em class="sig-param">window_function=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#collect_features"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.collect_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Collects fbank and mfcc features.</p>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.dsp.control_volume">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">control_volume</code><span class="sig-paren">(</span><em class="sig-param">samples</em>, <em class="sig-param">max_limit</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#control_volume"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.control_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Keeps max volume of samples to within a specified range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>samples</strong> (<em>ndarray</em>) – series of audio samples</p></li>
<li><p><strong>max_limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – maximum boundary of the maximum value of the audio samples</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>samples with volume adjusted (if need be)</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#low volume example: increase volume to desired window</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.04</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">control_volume</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">max_limit</span><span class="o">=</span><span class="mf">0.25</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span>
<span class="go">array([-0.13888889,  0.25      , -0.25      ,  0.13888889])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#high volume example: decrease volume to desired window</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">control_volume</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">max_limit</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span>
<span class="go">array([-0.08333333,  0.15      , -0.15      ,  0.08333333])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.dsp.create_window">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">create_window</code><span class="sig-paren">(</span><em class="sig-param">window_type</em>, <em class="sig-param">frame_length</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#create_window"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.create_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates window according to set window type and frame length</p>
<p>the Hamming window tapers edges to around 0.08 while the Hann window
tapers edges to 0.0. Both are commonly used in noise filtering.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>window_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – type of window to be applied (default ‘hamming’)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>window</strong> – a window fitted to the class attribute ‘frame_length’</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">#create Hamming window</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hamm_win</span> <span class="o">=</span> <span class="n">create_window</span><span class="p">(</span><span class="s1">&#39;hamming&#39;</span><span class="p">,</span> <span class="n">frame_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hamm_win</span>
<span class="go">array([0.08, 0.54, 1.  , 0.54, 0.08])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#create Hann window</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hann_win</span> <span class="o">=</span> <span class="n">create_window</span><span class="p">(</span><span class="s1">&#39;hann&#39;</span><span class="p">,</span><span class="n">frame_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hann_win</span>
<span class="go">array([0. , 0.5, 1. , 0.5, 0. ])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.dsp.load_signal">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">load_signal</code><span class="sig-paren">(</span><em class="sig-param">wav</em>, <em class="sig-param">sampling_rate=48000</em>, <em class="sig-param">dur_sec=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#load_signal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.load_signal" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads wavfile, resamples if necessary, and normalizes signal.</p>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.dsp.postfilter">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">postfilter</code><span class="sig-paren">(</span><em class="sig-param">original_powerspec</em>, <em class="sig-param">noisereduced_powerspec</em>, <em class="sig-param">gain</em>, <em class="sig-param">threshold=0.4</em>, <em class="sig-param">scale=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#postfilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.postfilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply filter that reduces musical noise resulting from other filter.</p>
<p>If it is estimated that speech (or target signal) is present, reduced
filtering is applied.</p>
<p>T. Esch and P. Vary, “Efficient musical noise suppression for speech enhancement
system,” Proceedings of IEEE International Conference on Acoustics, Speech and
Signal Processing, Taipei, 2009.</p>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.dsp.resample_audio">
<code class="sig-prename descclassname">noize.mathfun.dsp.</code><code class="sig-name descname">resample_audio</code><span class="sig-paren">(</span><em class="sig-param">samples</em>, <em class="sig-param">sr_original</em>, <em class="sig-param">sr_desired</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/dsp.html#resample_audio"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.dsp.resample_audio" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows audio samples to be resampled to desired sample rate.</p>
</dd></dl>

</div>
<div class="section" id="module-noize.mathfun.augmentdata">
<span id="noize-mathfun-augmentdata"></span><h2>noize.mathfun.augmentdata<a class="headerlink" href="#module-noize.mathfun.augmentdata" title="Permalink to this headline">¶</a></h2>
<p>Audio data is augmented to result in more resiliant models and filters.</p>
<dl class="function">
<dt id="noize.mathfun.augmentdata.adjust_volume">
<code class="sig-prename descclassname">noize.mathfun.augmentdata.</code><code class="sig-name descname">adjust_volume</code><span class="sig-paren">(</span><em class="sig-param">samples</em>, <em class="sig-param">vol_range</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/augmentdata.html#adjust_volume"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.augmentdata.adjust_volume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="noize.mathfun.augmentdata.spread_volumes">
<code class="sig-prename descclassname">noize.mathfun.augmentdata.</code><code class="sig-name descname">spread_volumes</code><span class="sig-paren">(</span><em class="sig-param">samples, vol_list=[0.1, 0.3, 0.5]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/augmentdata.html#spread_volumes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.augmentdata.spread_volumes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns samples with a range of volumes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>samples</strong> (<em>ndarray</em>) – Series belonging to acoustic signal.</p></li>
<li><p><strong>vol_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – List of floats or ints representing the volumes the samples
are to be oriented towards. (default [0.1,0.3,0.5])</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>volrange_dict</strong> – Tuple of <cite>volrange_dict</cite> values containing <cite>samples</cite> at various vols.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)">tuple</a></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-noize.mathfun.matrixfun">
<span id="noize-mathfun-matrixfun"></span><h2>noize.mathfun.matrixfun<a class="headerlink" href="#module-noize.mathfun.matrixfun" title="Permalink to this headline">¶</a></h2>
<p>The matrixfun module offers insight into the matrix manipulation
necessary in both digital signal processing and machine learning</p>
<dl class="function">
<dt id="noize.mathfun.matrixfun.add_tensor">
<code class="sig-prename descclassname">noize.mathfun.matrixfun.</code><code class="sig-name descname">add_tensor</code><span class="sig-paren">(</span><em class="sig-param">matrix</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/matrixfun.html#add_tensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.matrixfun.add_tensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds tensor / dimension to input ndarray.</p>
<p>Keras requires an extra dimension at some layers, which represents
the ‘tensor’ encapsulating the data.</p>
<p>Further clarification taking the example below. The input matrix has
shape (2,3,4). Think of it as 2 different events, each having
3 sets of measurements, with each of those having 4 features. So,
let’s measure differences between 2 cities at 3 different times of
day. Let’s take measurements at 08:00, 14:00, and 19:00 in…
Magic City and Never-ever Town. We’ll measure.. 1) tempurature,
2) wind speed 3) light level 4) noise level.</p>
<p>How I best understand it, putting our measurements into a matrix
with an added dimension/tensor, this highlights the separate
measurements, telling the algorithm: yes, these are 4 features
from the same city, BUT they occur at different times. Or it’s
just how Keras set up the code :P</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>matrix</strong> (<em>numpy.ndarray</em>) – The <cite>matrix</cite> holds the numerical data to add a dimension to.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>matrix</strong> – The <cite>matrix</cite> with an additional dimension.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(2, 3, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span>
<span class="go">array([[[ 0,  1,  2,  3],</span>
<span class="go">        [ 4,  5,  6,  7],</span>
<span class="go">        [ 8,  9, 10, 11]],</span>

<span class="go">       [[12, 13, 14, 15],</span>
<span class="go">        [16, 17, 18, 19],</span>
<span class="go">        [20, 21, 22, 23]]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix_2</span> <span class="o">=</span> <span class="n">add_tensor</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix_2</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(2, 3, 4, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix_2</span>
<span class="go">array([[[[ 0],</span>
<span class="go">         [ 1],</span>
<span class="go">         [ 2],</span>
<span class="go">         [ 3]],</span>

<span class="go">        [[ 4],</span>
<span class="go">         [ 5],</span>
<span class="go">         [ 6],</span>
<span class="go">         [ 7]],</span>

<span class="go">        [[ 8],</span>
<span class="go">         [ 9],</span>
<span class="go">         [10],</span>
<span class="go">         [11]]],</span>


<span class="go">       [[[12],</span>
<span class="go">         [13],</span>
<span class="go">         [14],</span>
<span class="go">         [15]],</span>

<span class="go">        [[16],</span>
<span class="go">         [17],</span>
<span class="go">         [18],</span>
<span class="go">         [19]],</span>

<span class="go">        [[20],</span>
<span class="go">         [21],</span>
<span class="go">         [22],</span>
<span class="go">         [23]]]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.matrixfun.create_empty_matrix">
<code class="sig-prename descclassname">noize.mathfun.matrixfun.</code><code class="sig-name descname">create_empty_matrix</code><span class="sig-paren">(</span><em class="sig-param">shape</em>, <em class="sig-param">complex_vals=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/matrixfun.html#create_empty_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.matrixfun.create_empty_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows creation of a matrix filled with real or complex zeros.</p>
<p>In digital signal processing, complex numbers are common; it is
important to note that if complex_vals=False and complex values are
inserted into the matrix, the imaginary part will be removed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><em>tuple</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – tuple or int indicating the shape or length of desired matrix or
vector, respectively</p></li>
<li><p><strong>complex_vals</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – indicator of whether or not the matrix will receive real or complex
values (default False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>matrix</strong> – a matrix filled with real or complex zeros</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span> <span class="o">=</span> <span class="n">create_empty_matrix</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span>
<span class="go">array([[0., 0., 0., 0.],</span>
<span class="go">       [0., 0., 0., 0.],</span>
<span class="go">       [0., 0., 0., 0.]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix_complex</span> <span class="o">=</span> <span class="n">create_empty_matrix</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="n">complex_vals</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix_complex</span>
<span class="go">array([[0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j],</span>
<span class="go">       [0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j],</span>
<span class="go">       [0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vector</span> <span class="o">=</span> <span class="n">create_empty_matrix</span><span class="p">(</span><span class="mi">5</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vector</span>
<span class="go">array([0., 0., 0., 0., 0.])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="noize.mathfun.matrixfun.separate_dependent_var">
<code class="sig-prename descclassname">noize.mathfun.matrixfun.</code><code class="sig-name descname">separate_dependent_var</code><span class="sig-paren">(</span><em class="sig-param">matrix</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/mathfun/matrixfun.html#separate_dependent_var"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.mathfun.matrixfun.separate_dependent_var" title="Permalink to this definition">¶</a></dt>
<dd><p>Separates matrix into features and labels.</p>
<p>Assumes the last column of the last dimension of the matrix constitutes
the dependent variable (labels), and all other columns the indpendent variables
(features). Additionally, it is assumed that for each block of data,
only one label is needed; therefore, just the first label is taken for
each block.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>matrix</strong> (<em>numpy.ndarray</em>) – The <cite>matrix</cite> holds the numerical data to separate</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>X</strong> (<em>numpy.ndarray</em>) – A matrix holding the (assumed) independent variables</p></li>
<li><p><strong>y</strong> (<em>numpy.ndarray, numpy.int64, numpy.float64</em>) – A vector holding the labels assigned to the independent variables.
If only one value in array, just the value inside is returned</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#vector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">separate_dependent_var</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]))</span>
<span class="go">(array([1, 2, 3]), 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#simple matrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span>
<span class="go">array([[0, 1],</span>
<span class="go">       [2, 3]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">separate_dependent_var</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span>
<span class="go">array([[0],</span>
<span class="go">       [2]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#more complex matrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span>
<span class="go">array([[[ 0,  1,  2,  3,  4],</span>
<span class="go">        [ 5,  6,  7,  8,  9]],</span>

<span class="go">       [[10, 11, 12, 13, 14],</span>
<span class="go">        [15, 16, 17, 18, 19]]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">separate_dependent_var</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span>
<span class="go">array([[[ 0,  1,  2,  3],</span>
<span class="go">        [ 5,  6,  7,  8]],</span>

<span class="go">       [[10, 11, 12, 13],</span>
<span class="go">        [15, 16, 17, 18]]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span>
<span class="go">array([ 4, 14])</span>
</pre></div>
</div>
</dd></dl>

<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, P. Sylopp und A. Rose GbR.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/noize.mathfun.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>