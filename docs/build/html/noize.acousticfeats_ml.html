
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Acoustic Features for Machine Learning &#8212; \\NoIze// 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Models" href="noize.models.html" />
    <link rel="prev" title="Setup File Architecture" href="noize.file_architecture.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="acoustic-features-for-machine-learning">
<h1>Acoustic Features for Machine Learning<a class="headerlink" href="#acoustic-features-for-machine-learning" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-noize.acousticfeats_ml.featorg">
<span id="noize-acousticfeats-ml-featorg"></span><h2>noize.acousticfeats_ml.featorg<a class="headerlink" href="#module-noize.acousticfeats_ml.featorg" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="noize.acousticfeats_ml.featorg.audio2datasets">
<code class="sig-prename descclassname">noize.acousticfeats_ml.featorg.</code><code class="sig-name descname">audio2datasets</code><span class="sig-paren">(</span><em class="sig-param">audio_classes_dir</em>, <em class="sig-param">encoded_labels_path</em>, <em class="sig-param">label_wavfiles_path</em>, <em class="sig-param">perc_train=0.8</em>, <em class="sig-param">limit=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/acousticfeats_ml/featorg.html#audio2datasets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.acousticfeats_ml.featorg.audio2datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Organizes all audio in audio class directories into datasets.</p>
<p>If they don’t already exist, dictionaries with the encoded labels of the
audio classes as well as the wavfiles belonging to each class are saved.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>audio_classes_dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="(in Python v3.7)"><em>pathlib.PosixPath</em></a>) – Directory path to where all audio class folders are located.</p></li>
<li><p><strong>encoded_labels_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="(in Python v3.7)"><em>pathlib.PosixPath</em></a>) – path to the dictionary where audio class labels and their
encoded integers are stored or will be stored.</p></li>
<li><p><strong>label_wavfiles_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="(in Python v3.7)"><em>pathlib.PosixPath</em></a>) – path to the dictionary where audio class labels and the
paths of all audio files belonging to each class are or will
be stored.</p></li>
<li><p><strong>perc_train</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – The percentage or decimal representing the amount of training
data compared to the test and validation data (default 0.8)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dataset_audio</strong> – Named tuple including three lists of tuples: the train, validation, and test lists, respectively. The tuples within the lists contain
the encoded label integer (e.g. 0 instead of ‘air_conditioner’) and
the audio paths associated to that class and dataset.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="noize.acousticfeats_ml.featorg.create_dicts_labelsencoded">
<code class="sig-prename descclassname">noize.acousticfeats_ml.featorg.</code><code class="sig-name descname">create_dicts_labelsencoded</code><span class="sig-paren">(</span><em class="sig-param">labels_class</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/acousticfeats_ml/featorg.html#create_dicts_labelsencoded"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.acousticfeats_ml.featorg.create_dicts_labelsencoded" title="Permalink to this definition">¶</a></dt>
<dd><p>Encodes audio class labels and saves in dictionaries.</p>
<p>The labels are alphabetized and encoded under their index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>labels_class</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.7)"><em>set</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – Set or list containing the labels of all audio classes.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>dict_label2int</strong> (<em>dict</em>) – Dictionary where the keys are the string labels and the
values are the encoded integers</p></li>
<li><p><strong>dict_int2label</strong> (<em>dict</em>) – Dictionary where the keys are the encoded integers and the
values are the string labels</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;wind&#39;</span><span class="p">,</span><span class="s1">&#39;air_conditioner&#39;</span><span class="p">,</span><span class="s1">&#39;fridge&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">label2int</span><span class="p">,</span> <span class="n">int2label</span> <span class="o">=</span> <span class="n">create_dicts_labelsencoded</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">label2int</span>
<span class="go">{&#39;air_conditioner&#39;: 0, &#39;fridge&#39;: 1, &#39;wind&#39;: 2}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">int2label</span>
<span class="go">{0: &#39;air_conditioner&#39;, 1: &#39;fridge&#39;, 2: &#39;wind&#39;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="noize.acousticfeats_ml.featorg.create_label2audio_dict">
<code class="sig-prename descclassname">noize.acousticfeats_ml.featorg.</code><code class="sig-name descname">create_label2audio_dict</code><span class="sig-paren">(</span><em class="sig-param">labels_set</em>, <em class="sig-param">paths_list</em>, <em class="sig-param">limit=None</em>, <em class="sig-param">seed=40</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/acousticfeats_ml/featorg.html#create_label2audio_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.acousticfeats_ml.featorg.create_label2audio_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates dictionary with audio labels as keys and filename lists as values.</p>
<p>If no label is found in the filename path, the label is not included
in the returned dictionary: labels are only included if corresponding
paths are present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels_set</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.7)"><em>set</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – Set containing the labels of all audio training classes</p></li>
<li><p><strong>paths_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.7)"><em>set</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – List containing pathlib.PosixPath objects (i.e. paths) of all audio
files; expected the audio files reside in directories with names
matching their audio class</p></li>
<li><p><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) – The integer indicating a limit to number of audiofiles to each class. This
may be useful if one wants to ensure a balanced dataset (default None)</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) – The seed for pseudorandomizing the wavfiles, if a limit is requested.
If <cite>seed</cite> is set to None, the randomized order of the limited wavfiles cannot
be repeated. (default 40)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>label_waves_dict</strong> – A dictionary with audio labels as keys with values being the audio files
corresponding to that label</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="k">import</span> <span class="n">Path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;vacuum&#39;</span><span class="p">,</span><span class="s1">&#39;fridge&#39;</span><span class="p">,</span><span class="s1">&#39;wind&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">paths</span> <span class="o">=</span> <span class="p">[</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;data/audio/vacuum/vacuum1.wav&#39;</span><span class="p">),</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;data/audio/fridge/fridge1.wav&#39;</span><span class="p">),</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;data/audio/vacuum/vacuum2.wav&#39;</span><span class="p">),</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;data/audio/wind/wind1.wav&#39;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">label_waves_dict</span> <span class="o">=</span> <span class="n">create_label2audio_dict</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">paths</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">label_waves_dict</span>
<span class="go">{&#39;fridge&#39;: [PosixPath(&#39;data/audio/fridge/fridge1.wav&#39;)],</span>
<span class="go"> &#39;wind&#39;: [PosixPath(&#39;data/audio/wind/wind1.wav&#39;)],</span>
<span class="go"> &#39;vacuum&#39;: [PosixPath(&#39;data/audio/vacuum/vacuum1.wav&#39;),</span>
<span class="go">  PosixPath(&#39;data/audio/vacuum/vacuum2.wav&#39;)]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#to set a limit on number of audiofiles per class:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">create_label2audio_dict</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span><span class="n">path</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
<span class="go">{&#39;fridge&#39;: [PosixPath(&#39;data/audio/fridge/fridge1.wav&#39;)],</span>
<span class="go"> &#39;wind&#39;: [PosixPath(&#39;data/audio/wind/wind1.wav&#39;)],</span>
<span class="go"> &#39;vacuum&#39;: [PosixPath(&#39;data/audio/vacuum/vacuum2.wav&#39;)]}</span>
<span class="go"> &gt;&gt;&gt; #change the limited pathways chosen:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">create_label2audio_dict</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span><span class="n">path</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">{&#39;fridge&#39;: [PosixPath(&#39;data/audio/fridge/fridge1.wav&#39;)],</span>
<span class="go"> &#39;wind&#39;: [PosixPath(&#39;data/audio/wind/wind1.wav&#39;)],</span>
<span class="go"> &#39;vacuum&#39;: [PosixPath(&#39;data/audio/vacuum/vacuum1.wav&#39;)]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="noize.acousticfeats_ml.featorg.make_number">
<code class="sig-prename descclassname">noize.acousticfeats_ml.featorg.</code><code class="sig-name descname">make_number</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/acousticfeats_ml/featorg.html#make_number"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.acousticfeats_ml.featorg.make_number" title="Permalink to this definition">¶</a></dt>
<dd><p>If possibe, turns a string into an int, float, or None value.</p>
<p>This is useful when loading values from a dictionary that are
supposed to be integers, floats, or None values instead of strings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The string that should become a number</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Return value</strong> – If <cite>value</cite> is an integer of type str, the number is converted to type int.
If <cite>value</cite> has the structure of a float, it is converted to type float.
If <cite>value</cite> is an empty string, it will be converted to type None.
Otherwise, <cite>value</cite> is returned unaltered.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)">None</a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">type_int</span> <span class="o">=</span> <span class="n">make_number</span><span class="p">(</span><span class="s1">&#39;5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">type_int</span><span class="p">)</span>
<span class="go">int</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">type_int</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">type_float</span> <span class="o">=</span> <span class="n">make_number</span><span class="p">(</span><span class="s1">&#39;0.45&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">type_float</span><span class="p">)</span>
<span class="go">float</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">type_float</span>
<span class="go">0.45</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">type_none</span> <span class="o">=</span> <span class="n">make_number</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">type_none</span><span class="p">)</span>
<span class="go">NoneType</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">type_none</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">type_str</span> <span class="o">=</span> <span class="n">make_number</span><span class="p">(</span><span class="s1">&#39;53d&#39;</span><span class="p">)</span>
<span class="go">&#39;Value cannot be converted to a number.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">type_str</span><span class="p">)</span>
<span class="go">str</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="noize.acousticfeats_ml.featorg.setup_audioclass_dicts">
<code class="sig-prename descclassname">noize.acousticfeats_ml.featorg.</code><code class="sig-name descname">setup_audioclass_dicts</code><span class="sig-paren">(</span><em class="sig-param">audio_classes_dir</em>, <em class="sig-param">encoded_labels_path</em>, <em class="sig-param">label_waves_path</em>, <em class="sig-param">limit=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/acousticfeats_ml/featorg.html#setup_audioclass_dicts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.acousticfeats_ml.featorg.setup_audioclass_dicts" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves dictionaries containing encoded label and audio class wavfiles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>audio_classes_dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="(in Python v3.7)"><em>pathlib.PosixPath</em></a>) – Directory path to where all audio class folders are located.</p></li>
<li><p><strong>encoded_labels_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="(in Python v3.7)"><em>pathlib.PosixPath</em></a>) – path to the dictionary where audio class labels and their
encoded integers are stored or will be stored.</p></li>
<li><p><strong>label_waves_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="(in Python v3.7)"><em>pathlib.PosixPath</em></a>) – path to the dictionary where audio class labels and the
paths of all audio files belonging to each class are or will
be stored.</p></li>
<li><p><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) – The integer indicating a limit to number of audiofiles to each class. This
may be useful if one wants to ensure a balanced dataset (default None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>label2int_dict</strong> – Dictionary containing the string labels as keys and encoded
integers as values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="noize.acousticfeats_ml.featorg.waves2dataset">
<code class="sig-prename descclassname">noize.acousticfeats_ml.featorg.</code><code class="sig-name descname">waves2dataset</code><span class="sig-paren">(</span><em class="sig-param">audiolist</em>, <em class="sig-param">train_perc=0.8</em>, <em class="sig-param">seed=40</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/acousticfeats_ml/featorg.html#waves2dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.acousticfeats_ml.featorg.waves2dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Organizes audio files list into train, validation and test datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>audiolist</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – List containing paths to audio files</p></li>
<li><p><strong>train_perc</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Percentage of data to be in the training dataset (default 0.8)</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a><em>, </em><em>optional</em>) – Set seed for the generation of pseudorandom train, validation,
and test datsets. Useful for reproducing results. (default 40)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>train_waves</strong> (<em>list</em>) – List of audio files for the training dataset</p></li>
<li><p><strong>val_waves</strong> (<em>list</em>) – List of audio files for the validation dataset</p></li>
<li><p><strong>test_waves</strong> (<em>list</em>) – List of audio files for the test dataset</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">#Using a list of numbers instead of filenames</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">audiolist</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#default settings:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">waves2dataset</span><span class="p">(</span><span class="n">audiolist</span><span class="p">)</span>
<span class="go">([5, 4, 9, 2, 3, 10, 1, 6], [8], [7])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#train_perc set to 50% instead of 80%:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">waves2dataset</span><span class="p">(</span><span class="n">audiolist</span><span class="p">,</span> <span class="n">train_perc</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="go">([5, 4, 9, 2, 3, 10], [1, 6], [8, 7])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#change seed number</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">waves2dataset</span><span class="p">(</span><span class="n">audiolist</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">([7, 1, 2, 5, 6, 9, 10, 8], [4], [3])</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-noize.acousticfeats_ml.modelfeats">
<span id="noize-acousticfeats-ml-modelfeats"></span><h2>noize.acousticfeats_ml.modelfeats<a class="headerlink" href="#module-noize.acousticfeats_ml.modelfeats" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="noize.acousticfeats_ml.modelfeats.PrepFeatures">
<em class="property">class </em><code class="sig-prename descclassname">noize.acousticfeats_ml.modelfeats.</code><code class="sig-name descname">PrepFeatures</code><span class="sig-paren">(</span><em class="sig-param">feature_type='fbank'</em>, <em class="sig-param">sampling_rate=48000</em>, <em class="sig-param">num_filters=40</em>, <em class="sig-param">num_mfcc=None</em>, <em class="sig-param">window_size=25</em>, <em class="sig-param">window_shift=12.5</em>, <em class="sig-param">training_segment_ms=1000</em>, <em class="sig-param">num_columns=None</em>, <em class="sig-param">num_images_per_audiofile=None</em>, <em class="sig-param">num_waves=None</em>, <em class="sig-param">feature_sets=None</em>, <em class="sig-param">window_type=None</em>, <em class="sig-param">augment_data=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/acousticfeats_ml/modelfeats.html#PrepFeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.acousticfeats_ml.modelfeats.PrepFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="noize.acousticfeats_ml.modelfeats.PrepFeatures.calc_filter_image_sets">
<code class="sig-name descname">calc_filter_image_sets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/acousticfeats_ml/modelfeats.html#PrepFeatures.calc_filter_image_sets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.acousticfeats_ml.modelfeats.PrepFeatures.calc_filter_image_sets" title="Permalink to this definition">¶</a></dt>
<dd><p>calculates how many feature sets create a full image, given window size,
window shift, and desired image length in milliseconds.</p>
</dd></dl>

<dl class="method">
<dt id="noize.acousticfeats_ml.modelfeats.PrepFeatures.extractfeats">
<code class="sig-name descname">extractfeats</code><span class="sig-paren">(</span><em class="sig-param">soundata</em>, <em class="sig-param">dur_sec=None</em>, <em class="sig-param">augment_data=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/acousticfeats_ml/modelfeats.html#PrepFeatures.extractfeats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.acousticfeats_ml.modelfeats.PrepFeatures.extractfeats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="noize.acousticfeats_ml.modelfeats.PrepFeatures.get_feats">
<code class="sig-name descname">get_feats</code><span class="sig-paren">(</span><em class="sig-param">list_waves</em>, <em class="sig-param">dur_sec=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/acousticfeats_ml/modelfeats.html#PrepFeatures.get_feats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.acousticfeats_ml.modelfeats.PrepFeatures.get_feats" title="Permalink to this definition">¶</a></dt>
<dd><p>collects fbank or mfcc features of entire wavfile list</p>
</dd></dl>

<dl class="method">
<dt id="noize.acousticfeats_ml.modelfeats.PrepFeatures.get_max_samps">
<code class="sig-name descname">get_max_samps</code><span class="sig-paren">(</span><em class="sig-param">filter_features</em>, <em class="sig-param">num_sets</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/acousticfeats_ml/modelfeats.html#PrepFeatures.get_max_samps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.acousticfeats_ml.modelfeats.PrepFeatures.get_max_samps" title="Permalink to this definition">¶</a></dt>
<dd><p>calculates the maximum  number of samples of a particular wave’s
features that would also create a full image</p>
</dd></dl>

<dl class="method">
<dt id="noize.acousticfeats_ml.modelfeats.PrepFeatures.get_save_feats">
<code class="sig-name descname">get_save_feats</code><span class="sig-paren">(</span><em class="sig-param">wave_list</em>, <em class="sig-param">directory4features</em>, <em class="sig-param">filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/acousticfeats_ml/modelfeats.html#PrepFeatures.get_save_feats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.acousticfeats_ml.modelfeats.PrepFeatures.get_save_feats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="noize.acousticfeats_ml.modelfeats.PrepFeatures.samps2feats">
<code class="sig-name descname">samps2feats</code><span class="sig-paren">(</span><em class="sig-param">y</em>, <em class="sig-param">augment_data=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/acousticfeats_ml/modelfeats.html#PrepFeatures.samps2feats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.acousticfeats_ml.modelfeats.PrepFeatures.samps2feats" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets features from section of samples, at varying volumes.</p>
</dd></dl>

<dl class="method">
<dt id="noize.acousticfeats_ml.modelfeats.PrepFeatures.save_class_settings">
<code class="sig-name descname">save_class_settings</code><span class="sig-paren">(</span><em class="sig-param">path</em>, <em class="sig-param">replace=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/acousticfeats_ml/modelfeats.html#PrepFeatures.save_class_settings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.acousticfeats_ml.modelfeats.PrepFeatures.save_class_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>saves class settings to dictionary</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="noize.acousticfeats_ml.modelfeats.loadfeature_settings">
<code class="sig-prename descclassname">noize.acousticfeats_ml.modelfeats.</code><code class="sig-name descname">loadfeature_settings</code><span class="sig-paren">(</span><em class="sig-param">feature_info</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/acousticfeats_ml/modelfeats.html#loadfeature_settings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.acousticfeats_ml.modelfeats.loadfeature_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads prev extracted feature settings into new feature class instance</p>
<p>This is useful if one wants to extract new features that match the
dimensions and settings of previously extracted features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>feature_info</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a><em>, </em><em>class</em>) – Either a dictionary or a class instance that holds the path
attribute to a dictionary.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>feats_class</strong> – Feature extraction class instance with the same settings as the
settings dictionary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>class</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="noize.acousticfeats_ml.modelfeats.prepfeatures">
<code class="sig-prename descclassname">noize.acousticfeats_ml.modelfeats.</code><code class="sig-name descname">prepfeatures</code><span class="sig-paren">(</span><em class="sig-param">filter_class</em>, <em class="sig-param">feature_type='mfcc'</em>, <em class="sig-param">num_filters=40</em>, <em class="sig-param">segment_dur_ms=1000</em>, <em class="sig-param">limit=None</em>, <em class="sig-param">augment_data=False</em>, <em class="sig-param">sampling_rate=48000</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/noize/acousticfeats_ml/modelfeats.html#prepfeatures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#noize.acousticfeats_ml.modelfeats.prepfeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Pulls info from ‘filter_class’ instance to then extract, save features</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filter_class</strong> (<em>class</em>) – The class instance holding attributes relating to path structure
and filenames necessary for feature extraction</p></li>
<li><p><strong>feature_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) – Acceptable inputs: ‘mfcc’ and ‘fbank’. These are the features that
will be extracted from the audio and saved (default ‘mfcc’)</p></li>
<li><p><strong>num_filters</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) – The number of mel filters used during feature extraction. This number
ranges for ‘mfcc’ extraction between 13 and 40 and for ‘fbank’
extraction between 20 and 128. The higher the number, the greater the
computational load and memory requirement. (default 40)</p></li>
<li><p><strong>segment_dur_ms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><em>optional</em>) – The length in milliseconds of the acoustic data to extract features
from. If 1000 ms, 1 second of acoustic data will be processed; 1 sec
of feature data will be extracted. If not enough audio data is present,
the feature data will be zero padded. (default 1000)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>feats_class</strong> (<em>class</em>) – The class instance holding attributes relating to the current
feature extraction session</p></li>
<li><p><strong>filter_class</strong> (<em>class</em>) – The updated class instance holding attributes relating to path
structure</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="noize.file_architecture.html" title="previous chapter">Setup File Architecture</a></li>
      <li>Next: <a href="noize.models.html" title="next chapter">Models</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, P. Sylopp und A. Rose GbR.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/noize.acousticfeats_ml.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>